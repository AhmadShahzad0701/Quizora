{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769148810056}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769148810058}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769148810059}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 200, "response_preview": "\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n{\"id\":\"gen-1769148809-RlhY557FPif8iz3XGfZA\",\"p"}, "timestamp": 1769148816436}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157725089}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157725091}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157725093}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157726144}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:04 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c25fedf19ac97a4-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157726146}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157727746}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157727747}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157727747}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157727911}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:06 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c25feee7915c225-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157727915}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157729834}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157729835}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157729836}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157729978}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:08 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c25fefb6b778e3a-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157729978}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157732798}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157732800}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157732801}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157732941}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:11 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c25ff0de914815b-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157732942}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157734194}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157734195}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157734196}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157734368}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:12 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c25ff16bdc94b13-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157734369}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "main.py:env_search", "message": "Searching for .env file", "data": {"env_path_found": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "current_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\app\\main.py", "log_path": "F:\\FYP\\Repo\\Quizora\\.cursor\\debug.log"}, "timestamp": 1769157753318}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "main.py:env_loaded", "message": "Environment loaded", "data": {"env_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0..."}, "timestamp": 1769157753328}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157758461}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157758462}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157758463}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157758697}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:37 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c25ffae988fa07f-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157758698}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157759587}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157759588}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157759589}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157759756}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:38 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c25ffb58e7534e9-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157759757}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "main.py:env_search", "message": "Searching for .env file", "data": {"env_path_found": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "current_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\app\\main.py", "log_path": "F:\\FYP\\Repo\\Quizora\\.cursor\\debug.log"}, "timestamp": 1769157767413}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "main.py:env_loaded", "message": "Environment loaded", "data": {"env_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0..."}, "timestamp": 1769157767414}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157772096}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157772098}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157772100}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157772260}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:42:50 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c260003aa2792f0-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157772261}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157818417}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157818419}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157818420}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157819464}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:43:38 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c2601251ece2097-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157819464}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "main.py:env_search", "message": "Searching for .env file", "data": {"env_path_found": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "current_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\app\\main.py", "log_path": "F:\\FYP\\Repo\\Quizora\\.cursor\\debug.log"}, "timestamp": 1769157849723}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "main.py:env_loaded", "message": "Environment loaded", "data": {"env_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0..."}, "timestamp": 1769157849725}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157857852}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157857854}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157857855}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157858005}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:44:16 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c26021b98a824d9-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157858006}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157859256}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157859258}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 391}, "timestamp": 1769157859260}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 401, "response_preview": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}"}, "timestamp": 1769157859382}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:http_error", "message": "OpenRouter HTTP error", "data": {"status_code": 401, "response_body": "{\"error\":{\"message\":\"User not found.\",\"code\":401}}", "headers": {"Date": "Fri, 23 Jan 2026 08:44:17 GMT", "Content-Type": "application/json", "Transfer-Encoding": "chunked", "Connection": "keep-alive", "CF-RAY": "9c2602243dc497dc-KHI", "Access-Control-Allow-Origin": "*", "Vary": "Accept-Encoding", "Permissions-Policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")", "Referrer-Policy": "no-referrer, strict-origin-when-cross-origin", "X-Content-Type-Options": "nosniff", "Server": "cloudflare"}}, "timestamp": 1769157859384}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "A", "location": "main.py:env_search", "message": "Searching for .env file", "data": {"env_path_found": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "current_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\app\\main.py", "log_path": "F:\\FYP\\Repo\\Quizora\\.cursor\\debug.log"}, "timestamp": 1769157867136}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "main.py:env_loaded", "message": "Environment loaded", "data": {"env_file": "F:\\FYP\\Repo\\Quizora\\Backend\\services\\generation-service\\.env", "api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0..."}, "timestamp": 1769157867138}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769157910196}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769157910198}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 389}, "timestamp": 1769157910200}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 200, "response_preview": "\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n "}, "timestamp": 1769157920261}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769160971264}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769160971270}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 389}, "timestamp": 1769160971277}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 200, "response_preview": "\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n{\"id\":\"gen-1769160971-Fv"}, "timestamp": 1769160979755}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769163950377}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769163950384}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 387}, "timestamp": 1769163950395}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:response_received", "message": "OpenRouter response received", "data": {"status_code": 200, "response_preview": "\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n{\"id\":\"gen-1769163949-rdP1TSj4SLRVrawr8mJF\",\"p"}, "timestamp": 1769163957683}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "C", "location": "quiz_engine.py:function_entry", "message": "generate_quiz called", "data": {"payload_keys": ["meta", "distribution", "content"]}, "timestamp": 1769196556702}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "B", "location": "quiz_engine.py:api_key_check", "message": "API key retrieved from env", "data": {"api_key_exists": true, "api_key_length": 73, "api_key_preview": "sk-or-v1-0...", "api_key_starts_with_sk": true}, "timestamp": 1769196556705}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "D", "location": "quiz_engine.py:before_request", "message": "Before OpenRouter request", "data": {"auth_header_preview": "Bearer sk-or-v1-0...", "url": "https://openrouter.ai/api/v1/chat/completions", "model": "openai/gpt-4o-mini", "prompt_length": 387}, "timestamp": 1769196556708}
{"sessionId": "debug-session", "runId": "run1", "hypothesisId": "E", "location": "quiz_engine.py:request_exception", "message": "Request exception occurred", "data": {"error": "(\"Connection broken: ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None)\", ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None))", "error_type": "ChunkedEncodingError"}, "timestamp": 1769196558209}
